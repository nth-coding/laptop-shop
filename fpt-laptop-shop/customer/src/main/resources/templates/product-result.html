<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trang Chủ - FPT Shop 2020</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link th:href = "@{/css/bootstrap.css}" rel="stylesheet" />
    <!--    <link th:href = "@{/css/bootstrap-icons.css}" rel="stylesheet" />-->
    <link th:href = "@{/css/owl.carousel.min.css}" rel="stylesheet" />
    <link th:href = "@{/css/owl.theme.default.min.css}" rel="stylesheet" />
    <link th:href = "@{/css/jquery.fancybox.min.css}" rel="stylesheet" />
    <link th:href = "@{/css/jsRapClock.css}" rel="stylesheet" />
    <link th:href = "@{/css/jquery.jqZoom.css}" rel="stylesheet" />
    <link th:href = "@{/css/style.css}" rel="stylesheet" />

    <script th:src= "@{/js/jquery-3.0.0.js}"></script>
    <script th:src= "@{/js/bootstrap.bundle.js}"></script>
    <script th:src= "@{/js/jquery.nicescroll.js}"></script>
    <script th:src= "@{/js/owl.carousel.min.js}"></script>
    <script th:src= "@{/js/jquery.fancybox.min.js}"></script>
    <script th:src= "@{/js/jsRapClock.js}"></script>
    <script th:src= "@{/js/jquery.jqZoom.js}"></script>
    <script th:src= "@{/js/jquery-stars.js}"></script>
    <script th:src= "@{/js/jquery.scrollAds.js}"> </script>
    <script th:src= "@{/js/script.js}"></script>
</head>
<body>
<div th:replace="fragments :: header"></div>
<div th:replace="fragments :: nav"></div>
<content>
    <section class="home-product">
        <div class="container">
            <div class="background">
                <div class="title">
                    <h2 th:text="${title}"></h2>
                </div>
                <div class="filter-container">
                    <form th:action="@{/search-products}" method="get">
                        <label for="categorySelect">Category:</label>
                        <select id="categorySelect" name="category">
                            <option value="">All</option>
                            <option th:each="category : ${categories}" th:value="${category.name}" th:text="${category.name}" th:selected="${param.category != null && category.name == param.category[0]}"></option>
                        </select>

                        <label for="brandSelect">Brand:</label>
                        <select id="brandSelect" name="brand">
                            <option value="">All</option>
                            <option th:each="brand : ${brands}" th:value="${brand.name}" th:text="${brand.name}" th:selected="${param.brand != null && brand.name == param.brand[0]}"></option>
                        </select>

                        <label for="keyword">Keyword:</label>
                        <input type="text" id="keyword" name="keyword" th:value="${param?.keyword != null ? param?.keyword[0] : ''}" />

                        <button type="submit">Filter</button>
                    </form>
                </div>


                <ul class="row content">
                    <p th:if="${products.size() == 0}">Không tìm thấy sản phẩm nào</p>
                    <p th:if="${products.size() > 0}">Có tổng cộng <span th:text="${products.size()}"></span> sản phẩm</p>

                    <li class="col-lg-3 col-6" th:each = "product : ${products}">
                        <div class="background">
                            <div class="avatar">
                                <a class="zoom-box" th:href="@{'/product-detail/' + ${product.getId()}}">
                                    <img th:src="'data:image/jpeg;base64,' + ${product.image}">
                                </a>
                                <label class="installment">Trả góp 0%</label>
                                <label class="bonus">Lì xì 1.000.000đ</label>
                            </div>
                            <a class="title" href="#" th:text="${product.getName()}"></a>
                            <div class="price">
                                <span th:text="${#numbers.formatDecimal(product.costPrice, 1, 'COMMA', 0, 'POINT')} + 'đ'"></span>
                                <small>
                                    <del th:text="${#numbers.formatDecimal(product.salePrice, 1, 'COMMA', 0, 'POINT')} + 'đ'"></del>
                                    <em>2 ngày 05:01:02</em>
                                </small>
                            </div>
                            <div class="desc">
                                <label><i class="bi-cpu-fill"></i> <span>A14 Bionic</span></label>
                                <label><i class="bi-phone"></i> <span>6.7&Prime;</span></label>
                                <label><i class="bi-grip-vertical"></i> <span>6 Gb</span></label>
                                <label><i class="bi-hdd-fill"></i> <span>128 Gb</span></label>
                            </div>
                            <div class="button">
                                <a class="btn btn-danger" href="#">Mua ngay</a>
                                <a class="btn btn-secondary" href="#">So sánh</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </section>
</content>
<div th:replace="fragments :: footer"></div>
</body>
</html>